<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>åŒ—ç¾è³¼ç‰©æœ€çµ‚æ±ºç­–å„€è¡¨æ¿ï¼šSFO vs. PDX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Chosen Palette: Warm Neutrals (Stone, with Teal/Emerald accent) -->
    <!-- Application Structure Plan: The application uses a top-down narrative structure. It begins with the "Final Verdict" to immediately answer the user's core question. It then visually explains the "why" behind the verdict using an interactive bar chart that highlights the "Tax-Free Trap." This is followed by a detailed data table for transparency. The structure concludes with a clear strategic takeaway. This answer-first, evidence-next approach is designed for rapid comprehension and decision-making. -->
    <!-- Visualization & Content Choices: 
        - Final Verdict: Goal: Inform. Viz: Styled HTML/CSS cards. Interaction: None. Justification: Presents the most critical information (the winner and final costs) in a highly scannable, upfront format.
        - Cost Structure Comparison: Goal: Compare/Explain. Viz: Grouped Bar Chart (Chart.js). Interaction: Hover tooltips. Justification: This is the core explanatory tool. It visually contrasts trip vs. product costs, making it immediately obvious that higher flight costs to PDX overwhelm its tax savings, thus demonstrating the "Tax-Free Trap."
        - Detailed Breakdown: Goal: Organize/Inform. Viz: HTML Table. Interaction: None. Justification: Provides full data transparency for users who want to examine the exact numbers behind the visual analysis.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
      body {
        font-family: "Noto Sans TC", sans-serif;
      }
      .chart-container {
        position: relative;
        width: 100%;
        height: 400px;
        max-height: 50vh;
        margin-left: auto;
        margin-right: auto;
      }
      @media (max-width: 768px) {
        .chart-container {
          height: 350px;
          max-height: 60vh;
        }
      }
    </style>
  </head>
  <body class="bg-stone-50 text-stone-800">
    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
      <header class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold text-teal-800 mb-2">
          åŒ—ç¾è³¼ç‰©æœ€çµ‚æ±ºç­–å„€è¡¨æ¿
        </h1>
        <p class="text-lg text-stone-600">
          èˆŠé‡‘å±± (SFO) vs. æ³¢ç‰¹è˜­ (PDX) æˆæœ¬æ•ˆç›Šåˆ†æ
        </p>
      </header>

      <main class="space-y-16">
        <!-- Section 1: The Final Verdict -->
        <section id="verdict">
          <h2 class="text-3xl font-bold text-center mb-4 text-teal-700">
            æœ€çµ‚è£æ±º
          </h2>
          <p class="text-center text-stone-600 mb-8 max-w-3xl mx-auto">
            ç¶œåˆè€ƒé‡æ©Ÿç¥¨ã€ä½å®¿ã€ç¨…å‹™èˆ‡æ‰€æœ‰ç›¸é—œé–‹éŠ·å¾Œï¼Œå„˜ç®¡æ³¢ç‰¹è˜­ç‚ºå…ç¨…å·ï¼Œä½†èˆŠé‡‘å±±ä¾ç„¶æ˜¯æˆæœ¬æ•ˆç›Šæœ€é«˜çš„é¸æ“‡ã€‚
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div
              class="bg-white p-8 rounded-2xl shadow-lg border-2 border-emerald-500 relative"
            >
              <div
                class="absolute top-4 right-4 bg-emerald-100 text-emerald-800 text-xs font-bold px-3 py-1 rounded-full"
              >
                ğŸ† æˆæœ¬æ•ˆç›Šå† è»
              </div>
              <h3 class="text-3xl font-bold text-emerald-700">èˆŠé‡‘å±± (SFO)</h3>
              <p class="text-stone-500 mb-4">ç¸½é«”æˆæœ¬æœ€ä½</p>
              <p class="text-5xl font-extrabold text-stone-800">$2,181.79</p>
              <p class="text-lg font-semibold text-stone-600 mt-1">
                ç´„ NT$ 63,272
              </p>
            </div>
            <div
              class="bg-white p-8 rounded-2xl shadow-lg border border-stone-200"
            >
              <h3 class="text-3xl font-bold text-stone-600">æ³¢ç‰¹è˜­ (PDX)</h3>
              <p class="text-stone-500 mb-4">å…ç¨…å·æ–¹æ¡ˆ</p>
              <p class="text-5xl font-extrabold text-stone-800">$2,407.95</p>
              <p class="text-lg font-semibold text-stone-600 mt-1">
                ç´„ NT$ 69,831
              </p>
            </div>
          </div>
          <div class="text-center mt-6">
            <p class="text-xl font-bold text-emerald-700">
              èˆŠé‡‘å±±æ–¹æ¡ˆç‚ºæ‚¨ç¯€çœäº† <span class="text-2xl">$226.16</span> ç¾å…ƒ
              (ç´„ NT$6,559)
            </p>
          </div>
        </section>

        <!-- Section 2: The "Why" - Visual Analysis -->
        <section id="analysis">
          <h2 class="text-3xl font-bold text-center mb-4 text-teal-700">
            è¦–è¦ºåŒ–åˆ†æï¼šç¨…å‹™å¤©å ‚çš„é™·é˜±
          </h2>
          <p class="text-center text-stone-600 mb-8 max-w-3xl mx-auto">
            ç‚ºä½•å…ç¨…çš„æ³¢ç‰¹è˜­åè€Œæ›´è²´ï¼Ÿä¸‹åœ–æ­ç¤ºäº†æˆæœ¬çµæ§‹çš„çœŸç›¸ã€‚æ³¢ç‰¹è˜­åœ¨ã€Œç”¢å“æˆæœ¬ã€ä¸Šçš„å¾®å°å„ªå‹¢ï¼Œå®Œå…¨è¢«å…¶é«˜æ˜‚çš„ã€Œæ—…ç¨‹æˆæœ¬ã€ï¼ˆå°¤å…¶æ˜¯æ©Ÿç¥¨ï¼‰æ‰€åå™¬ã€‚
          </p>
          <div
            class="bg-white p-4 md:p-8 rounded-2xl shadow-lg border border-stone-200"
          >
            <div class="chart-container max-w-4xl">
              <canvas id="costStructureChart"></canvas>
            </div>
          </div>
        </section>

        <!-- Section 3: Detailed Breakdown -->
        <section id="details">
          <h2 class="text-3xl font-bold text-center mb-4 text-teal-700">
            è©³ç´°æˆæœ¬åˆ†è§£è¡¨
          </h2>
          <p class="text-center text-stone-600 mb-8 max-w-3xl mx-auto">
            ä¸‹è¡¨ç‚ºæ‚¨åˆ—å‡ºäº†æ§‹æˆç¸½æˆæœ¬çš„æ¯ä¸€å€‹ç´°é …ï¼Œæ‰€æœ‰æ•¸æ“šå‡é€æ˜å…¬é–‹ï¼ŒåŒ¯ç‡ä»¥ 1
            USD = 29 TWD è¨ˆç®—ã€‚
          </p>
          <div
            class="overflow-x-auto bg-white p-2 rounded-2xl shadow-lg border border-stone-200"
          >
            <table class="w-full text-sm text-left text-stone-600">
              <thead class="text-xs text-stone-700 uppercase bg-stone-100">
                <tr>
                  <th scope="col" class="px-6 py-3 rounded-l-lg">æˆæœ¬é …ç›®</th>
                  <th scope="col" class="px-6 py-3 text-center">
                    æ–¹æ¡ˆä¸€ï¼šèˆŠé‡‘å±± (SFO)
                  </th>
                  <th scope="col" class="px-6 py-3 text-center">
                    æ–¹æ¡ˆäºŒï¼šæ³¢ç‰¹è˜­ (PDX)
                  </th>
                  <th scope="col" class="px-6 py-3 rounded-r-lg text-center">
                    æˆæœ¬å·®ç•° (PDX vs SFO)
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr class="bg-white border-b">
                  <th
                    colspan="4"
                    class="px-6 py-2 font-bold text-teal-800 bg-teal-50"
                  >
                    æ—…ç¨‹æˆæœ¬ (A)
                  </th>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ ä¾†å›æ©Ÿç¥¨</td>
                  <td class="px-6 py-4 text-center">$573.00</td>
                  <td class="px-6 py-4 text-center">$884.00</td>
                  <td class="px-6 py-4 text-center text-red-600 font-semibold">
                    +$311.00
                  </td>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ ä½å®¿ (2æ™š)</td>
                  <td class="px-6 py-4 text-center">$42.00</td>
                  <td class="px-6 py-4 text-center">$80.00</td>
                  <td class="px-6 py-4 text-center text-red-600">+$38.00</td>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ æ©Ÿå ´äº¤é€š</td>
                  <td class="px-6 py-4 text-center">$4.50</td>
                  <td class="px-6 py-4 text-center">$5.00</td>
                  <td class="px-6 py-4 text-center text-red-600">+$0.50</td>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ é¤é£²é›œæ”¯</td>
                  <td class="px-6 py-4 text-center">$75.00</td>
                  <td class="px-6 py-4 text-center">$75.00</td>
                  <td class="px-6 py-4 text-center">$0.00</td>
                </tr>
                <tr class="bg-stone-50 font-bold">
                  <td class="px-6 py-4">æ—…ç¨‹å°è¨ˆ</td>
                  <td class="px-6 py-4 text-center">$700.20</td>
                  <td class="px-6 py-4 text-center">$1,044.00</td>
                  <td class="px-6 py-4 text-center text-red-600">+$343.80</td>
                </tr>
                <tr class="bg-white border-b">
                  <th
                    colspan="4"
                    class="px-6 py-2 font-bold text-teal-800 bg-teal-50"
                  >
                    ç”¢å“è½åœ°æˆæœ¬ (B)
                  </th>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ ç”¢å“æ¨™åƒ¹</td>
                  <td class="px-6 py-4 text-center">$1,299.00</td>
                  <td class="px-6 py-4 text-center">$1,299.00</td>
                  <td class="px-6 py-4 text-center">$0.00</td>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ ç•¶åœ°éŠ·å”®ç¨…</td>
                  <td class="px-6 py-4 text-center">$112.04 (8.625%)</td>
                  <td class="px-6 py-4 text-center">$0.00 (0%)</td>
                  <td
                    class="px-6 py-4 text-center text-green-600 font-semibold"
                  >
                    -$112.04
                  </td>
                </tr>
                <tr class="bg-white border-b">
                  <td class="px-6 py-4">ğŸ”¹ å°ç£é€²å£ç¨… (5%)</td>
                  <td class="px-6 py-4 text-center">$70.55</td>
                  <td class="px-6 py-4 text-center">$64.95</td>
                  <td class="px-6 py-4 text-center text-green-600">-$5.60</td>
                </tr>
                <tr class="bg-stone-50 font-bold">
                  <td class="px-6 py-4">ç”¢å“å°è¨ˆ</td>
                  <td class="px-6 py-4 text-center">$1,481.59</td>
                  <td class="px-6 py-4 text-center">$1,363.95</td>
                  <td class="px-6 py-4 text-center text-green-600">-$117.64</td>
                </tr>
              </tbody>
              <tfoot>
                <tr class="font-semibold text-stone-900 bg-stone-200">
                  <th scope="row" class="px-6 py-4 text-base rounded-l-lg">
                    æœ€çµ‚ç¸½æˆæœ¬ (A+B)
                  </th>
                  <td class="px-6 py-4 text-center text-lg">$2,181.79</td>
                  <td class="px-6 py-4 text-center text-lg">$2,407.95</td>
                  <td
                    class="px-6 py-4 text-center text-lg text-red-600 rounded-r-lg"
                  >
                    +$226.16
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </section>

        <!-- Section 4: Final Advice -->
        <section id="advice">
          <h2 class="text-3xl font-bold text-center mb-4 text-teal-700">
            æœ€çµ‚æˆ°ç•¥å»ºè­°
          </h2>
          <div
            class="bg-white p-8 rounded-2xl shadow-lg border border-stone-200 text-center"
          >
            <h3 class="text-2xl font-bold text-stone-800 mb-2">
              å …æŒé¸æ“‡èˆŠé‡‘å±±
            </h3>
            <p class="text-stone-600 max-w-2xl mx-auto">
              æœ¬æ¬¡åˆ†æçš„æ ¸å¿ƒæ´è¦‹æ˜¯ï¼šå°æ–¼å¾å°åŒ—å‡ºç™¼çš„è³¼ç‰©ä»»å‹™ï¼Œ**èˆªç©ºå…¬å¸çš„å®šåƒ¹ç­–ç•¥é æ¯”åœ°æ–¹æ”¿åºœçš„ç¨…æ”¶æ”¿ç­–å°ç¸½æˆæœ¬çš„å½±éŸ¿æ›´å¤§**ã€‚èˆŠé‡‘å±±ä½œç‚ºä¸»è¦åœ‹éš›èˆªç©ºæ¨ç´ï¼Œå…¶ä½å»‰çš„æ©Ÿç¥¨åƒ¹æ ¼å»ºç«‹äº†ç„¡æ³•æ’¼å‹•çš„æˆæœ¬å„ªå‹¢ã€‚è«‹å°ˆæ³¨åŸ·è¡ŒèˆŠé‡‘å±±æ–¹æ¡ˆï¼Œä»¥é”æˆæœ€ä½ç¸½é«”æ”¯å‡ºçš„ç›®æ¨™ã€‚
            </p>
          </div>
        </section>
      </main>

      <footer class="text-center mt-16 pt-8 border-t border-stone-200">
        <p class="text-sm text-stone-500">
          æ­¤åˆ†æå ±å‘ŠåŸºæ–¼2024å¹´9æœˆæ•¸æ“šæ¨¡æ“¬ï¼Œå¯¦éš›è²»ç”¨å¯èƒ½å› æ™‚é–“ã€é è¨‚å¹³å°åŠå€‹äººæ¶ˆè²»ç¿’æ…£è€Œç•°ã€‚åŒ¯ç‡ä»¥
          1 USD = 29 TWD è¨ˆç®—ã€‚
        </p>
      </footer>
    </div>

    <script>
      const costData = {
        sfo: {
          trip: 700.2,
          product: 1481.59,
        },
        pdx: {
          trip: 1044.0,
          product: 1363.95,
        },
      };

      const ctx = document
        .getElementById("costStructureChart")
        .getContext("2d");
      const costStructureChart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: ["èˆŠé‡‘å±± (SFO)", "æ³¢ç‰¹è˜­ (PDX)"],
          datasets: [
            {
              label: "æ—…ç¨‹æˆæœ¬ (æ©Ÿç¥¨/ä½å®¿ç­‰)",
              data: [costData.sfo.trip, costData.pdx.trip],
              backgroundColor: "#0d9488", // teal-600
              borderColor: "#0f766e", // teal-700
              borderWidth: 1,
            },
            {
              label: "ç”¢å“è½åœ°æˆæœ¬ (å«ç¨…)",
              data: [costData.sfo.product, costData.pdx.product],
              backgroundColor: "#f59e0b", // amber-500
              borderColor: "#d97706", // amber-600
              borderWidth: 1,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "æˆæœ¬ (ç¾å…ƒ)",
                font: { size: 14 },
              },
              ticks: {
                callback: function (value) {
                  return "$" + value;
                },
              },
            },
            x: {
              ticks: {
                font: { size: 14 },
              },
            },
          },
          plugins: {
            legend: {
              position: "top",
            },
            tooltip: {
              callbacks: {
                label: function (context) {
                  let label = context.dataset.label || "";
                  if (label) {
                    label += ": ";
                  }
                  if (context.parsed.y !== null) {
                    label += new Intl.NumberFormat("en-US", {
                      style: "currency",
                      currency: "USD",
                    }).format(context.parsed.y);
                  }
                  return label;
                },
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
