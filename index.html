<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibe Stuff Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(135deg, #f8fafc 0%, #e0e7ef 100%);
      }
      .section-content {
        transition: all 0.3s ease-in-out;
        overflow: hidden;
      }
      .section-content.collapsed {
        max-height: 0;
        opacity: 0;
        margin-top: 0;
        margin-bottom: 0;
      }
      .section-toggle {
        transition: transform 0.3s ease-in-out;
      }
      .section-toggle.collapsed {
        transform: rotate(-90deg);
      }
      .section-header {
        cursor: pointer;
        user-select: none;
      }
      .section-header:hover {
        opacity: 0.8;
      }
      .search-item {
        transition: opacity 0.2s ease-in-out;
      }
      .search-item.hidden {
        display: none;
      }
      .search-highlight {
        background-color: #fef3c7;
        padding: 1px 2px;
        border-radius: 2px;
      }
    </style>
  </head>
  <body
    class="min-h-screen flex flex-col items-center justify-center text-gray-800 bg-gradient-to-br from-slate-50 to-blue-50"
  >
    <header class="mb-6 mt-6 md:mb-10 md:mt-12 text-center px-3">
      <h1
        class="text-2xl md:text-3xl lg:text-5xl font-extrabold text-blue-700 mb-1 md:mb-2 leading-tight"
      >
        Vibe Stuff Portal
      </h1>
      <p class="text-sm md:text-base lg:text-lg text-gray-500">
        æ­¡è¿ä¾†åˆ°æˆ‘çš„Vibe Codingå°å¤©åœ°
      </p>
    </header>

    <!-- Search Section -->
    <div class="w-full max-w-2xl mx-auto px-3 md:px-4 mb-6">
      <div class="relative">
        <input
          type="text"
          id="searchInput"
          placeholder="Search your content... (supports English & ä¸­æ–‡)"
          class="w-full p-3 md:p-4 rounded-xl border border-gray-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 outline-none transition-all duration-200 text-sm md:text-base"
          oninput="filterItems()"
        />
        <div
          class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            ></path>
          </svg>
        </div>
      </div>
      <div id="searchResults" class="mt-2 text-sm text-gray-500 hidden">
        <span id="resultsCount"></span>
      </div>
      <div id="noResults" class="mt-4 text-center text-gray-500 hidden">
        <p class="text-sm">No items found matching your search.</p>
        <button
          onclick="clearSearch()"
          class="mt-2 text-blue-600 hover:text-blue-800 text-sm underline"
        >
          Clear search
        </button>
      </div>
    </div>

    <main class="w-full max-w-2xl mx-auto px-3 md:px-4">
      <div class="space-y-4 md:space-y-6 lg:space-y-10">
        <!-- Life Section -->
        <section>
          <h2
            class="section-header text-lg md:text-xl lg:text-2xl font-bold text-blue-700 mb-2 md:mb-4 flex items-center justify-between"
            onclick="toggleSection('life')"
          >
            <div class="flex items-center">
              <span class="mr-2 text-base md:text-lg lg:text-xl">ğŸŒ±</span>Life
            </div>
            <span class="section-toggle text-lg">â–¼</span>
          </h2>
          <div
            id="life-content"
            class="section-content space-y-2 md:space-y-3 lg:space-y-4"
          >
            <a
              href="life/mbti.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-blue-100 hover:border-blue-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ§¬</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-blue-700 leading-tight pr-4"
                    >
                      My MBTI Journey
                    </h3>
                    <span
                      class="text-xs text-blue-400 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/28
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    æ­·å¹´ä¾†çš„MBTIç´€éŒ„è·Ÿè®ŠåŒ–
                  </p>
                </div>
              </div>
            </a>
            <a
              href="life/questboard.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-blue-100 hover:border-blue-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ—‚ï¸</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-blue-700 leading-tight pr-4"
                    >
                      Questboard Portal
                    </h3>
                    <span
                      class="text-xs text-blue-400 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/25
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    Personal planner, checklist, and event tracker with
                    countdowns and calendar.
                  </p>
                </div>
              </div>
            </a>
          </div>
        </section>
        <!-- Travel Section -->
        <section>
          <h2
            class="section-header text-lg md:text-xl lg:text-2xl font-bold text-green-700 mb-2 md:mb-4 flex items-center justify-between"
            onclick="toggleSection('travel')"
          >
            <div class="flex items-center">
              <span class="mr-2 text-base md:text-lg lg:text-xl">ğŸŒ</span>Travel
            </div>
            <span class="section-toggle text-lg">â–¼</span>
          </h2>
          <div
            id="travel-content"
            class="section-content space-y-2 md:space-y-3 lg:space-y-4"
          >
            <a
              href="travel/æ·¡è˜­å¤é“.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-green-100 hover:border-green-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ¥¾</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-green-700 leading-tight pr-4"
                    >
                      æ·¡è˜­åŒ—è·¯
                    </h3>
                    <span
                      class="text-xs text-blue-400 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/07/04
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    è©³ç´°è¦åŠƒä¸‰å¤©å…©å¤œçš„æ·¡è˜­å¤é“åŒ—è·¯è¡Œç¨‹
                  </p>
                </div>
              </div>
            </a>
            <a
              href="travel/ST9.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-green-100 hover:border-green-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ—ºï¸</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-green-700 leading-tight pr-4"
                    >
                      Upcoming Secret Trip
                    </h3>
                    <span
                      class="text-xs text-blue-400 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/27
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ğŸ‘€ upcoming ST9 trip
                  </p>
                </div>
              </div>
            </a>
            <a
              href="travel/ST8.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-green-100 hover:border-green-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ§³</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-green-700 leading-tight pr-4"
                    >
                      ST8 Trip
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/25
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    å¾è¨ˆç•«ã€é ç®—ã€äº‹å¾Œå›é¡§ï¼Œéƒ½è©³ç´°è¨˜éŒ„äº†
                  </p>
                </div>
              </div>
            </a>
          </div>
        </section>
        <!-- Learning Section -->
        <section>
          <h2
            class="section-header text-lg md:text-xl lg:text-2xl font-bold text-yellow-600 mb-2 md:mb-4 flex items-center justify-between"
            onclick="toggleSection('learning')"
          >
            <div class="flex items-center">
              <span class="mr-2 text-base md:text-lg lg:text-xl">ğŸ’¡</span
              >Learning
            </div>
            <span class="section-toggle text-lg">â–¼</span>
          </h2>
          <div
            id="learning-content"
            class="section-content space-y-2 md:space-y-3 lg:space-y-4"
          >
            <a
              href="learning/iPAS_certification/"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-yellow-100 hover:border-yellow-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ†</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-yellow-600 leading-tight pr-4"
                    >
                      iPAS AI æ‡‰ç”¨è¦åŠƒå¸«èªè­‰æ”»ç•¥
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/07/08
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ä¸­æ–‡ | å°ˆç‚ºå€«æ•¦å¤§å­¸é›»è…¦ç§‘å­¸ç•¢æ¥­ç”Ÿæ‰“é€ çš„iPAS
                    AIæ‡‰ç”¨è¦åŠƒå¸«èªè­‰äº’å‹•ç­–ç•¥è—åœ–
                  </p>
                </div>
              </div>
            </a>
            <a
              href="learning/urban_stickiness/"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-yellow-100 hover:border-yellow-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ™ï¸</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-yellow-600 leading-tight pr-4"
                    >
                      The Magnetic City "é»"æ€§æœ€é«˜çš„åŸå¸‚
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/07/05
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ä¸­&è‹± | IGä¸Š @seasia.news @seasia.stats
                    ç™¼æ–‡å•Ÿç™¼çš„ç ”ç©¶ï¼Œè‹±æ–‡ç‰ˆæ¯”è¼ƒå…¨é¢
                  </p>
                </div>
              </div>
            </a>
            <a
              href="learning/humidity_comparison/"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-yellow-100 hover:border-yellow-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ’§</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-yellow-600 leading-tight pr-4"
                    >
                      å…¨çƒæ¿•åº¦æ¯”è¼ƒ
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/28
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ä¸­æ–‡ |
                    äº’å‹•å¼å„€è¡¨æ¿ï¼Œæ¢ç´¢ä¸–ç•Œä¸»è¦åŸå¸‚èˆ‡å°ç£æ¿•åº¦çš„æ¯”è¼ƒèˆ‡æ°£å€™çŸ¥è­˜
                  </p>
                </div>
              </div>
            </a>
            <a
              href="learning/snap_judgement/"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-yellow-100 hover:border-yellow-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >âš¡</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-yellow-600 leading-tight pr-4"
                    >
                      Snap Judgement é€Ÿåˆ¤
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/28
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ä¸­&è‹± | åœ¨IGä¸Šçœ‹åˆ°@a_day_magçš„ç™¼æ–‡åœ¨è¬›Snap
                    Judgementï¼Œæƒ³çŸ¥é“èƒŒå¾Œæ•…äº‹è·Ÿå­¸ç¿’åª’é«”è­˜è®€ï¼Œå°±è·‘å»åšç ”ç©¶ç”¢ç”Ÿäº†é€™å€‹ç¶²ç«™
                  </p>
                </div>
              </div>
            </a>

            <a
              href="learning/HK-TW_healthcheck/index.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-yellow-100 hover:border-yellow-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ¥</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-yellow-600 leading-tight pr-4"
                    >
                      é¦™æ¸¯å°ç£å¥æª¢å¤§æ¯”è¼ƒ
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/16
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ä¸­æ–‡ |
                    æœ¬åªæ˜¯è·Ÿæœ‹å‹èŠåˆ°å¥¹è¦å»åšå¥æª¢ï¼Œæˆ‘å•äº†åƒ¹æ ¼ç™¼ç¾æ¯”å°ç£ä¾¿å®œè¦ºå¾—å›°æƒ‘ï¼ŒæŒ‰ç…§é¦™æ¸¯ç‰©åƒ¹/è–ªè³‡æ‰€å¾—ï¼Œæ‡‰è©²è¦æ¯”è¼ƒè²´æ‰å°ï¼Œç„¶å¾Œå°±ç”¢ç”Ÿé€™ç¯‡ç ”ç©¶
                  </p>
                </div>
              </div>
            </a>
          </div>
        </section>
        <!-- Miscellaneous Section -->
        <section>
          <h2
            class="section-header text-lg md:text-xl lg:text-2xl font-bold text-purple-700 mb-2 md:mb-4 flex items-center justify-between"
            onclick="toggleSection('miscellaneous')"
          >
            <div class="flex items-center">
              <span class="mr-2 text-base md:text-lg lg:text-xl">ğŸ”§</span
              >Miscellaneous
            </div>
            <span class="section-toggle text-lg">â–¼</span>
          </h2>
          <div
            id="miscellaneous-content"
            class="section-content space-y-2 md:space-y-3 lg:space-y-4"
          >
            <a
              href="miscellaneous/US_BTS.html"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-purple-100 hover:border-purple-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-purple-700 leading-tight pr-4"
                    >
                      åŒ—ç¾Appleè³¼ç‰©æˆæœ¬åˆ†æå„€è¡¨æ¿
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/07/08
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    ä¸­æ–‡ | äº’å‹•å¼å„€è¡¨æ¿åˆ†æåŒ—ç¾è¥¿å²¸å››å¤§åŸå¸‚çš„Back to
                    Schoolè³¼ç‰©æˆæœ¬ï¼ŒåŒ…å«æ©Ÿç¥¨ã€ä½å®¿ã€ç¨…å‹™åŠç”¢å“ç¸½æˆæœ¬æ¯”è¼ƒ
                  </p>
                </div>
              </div>
            </a>
            <a
              href="miscellaneous/46XX_PAR1_Deletion/"
              class="search-item block bg-white rounded-xl shadow-md hover:shadow-lg transition p-3 md:p-4 lg:p-5 border border-purple-100 hover:border-purple-300 relative min-h-[64px] md:min-h-[56px]"
            >
              <div class="flex items-start">
                <span
                  class="text-lg md:text-xl lg:text-2xl mr-2 md:mr-3 lg:mr-4 mt-0.5"
                  >ğŸ§¬</span
                >
                <div class="min-w-0 flex-1">
                  <div class="flex items-start justify-between mb-2">
                    <h3
                      class="text-sm md:text-base lg:text-lg font-bold text-purple-700 leading-tight pr-4"
                    >
                      46,XX DSD & PAR1 Deletion
                    </h3>
                    <span
                      class="text-xs text-gray-500 bg-white bg-opacity-80 rounded px-1.5 py-0.5 shadow-sm whitespace-nowrap"
                    >
                      2025/06/19
                    </span>
                  </div>
                  <p class="text-gray-500 text-xs md:text-sm leading-tight">
                    è‹±æ–‡ | å¹«æœ‹å‹æ¸¬è©¦gemini deep
                    researchåŠŸèƒ½ï¼Œå”åŠ©åŒäº‹å·¥ä½œä¸Šçš„äº‹
                  </p>
                </div>
              </div>
            </a>
          </div>
        </section>
      </div>
      <footer
        class="mt-8 md:mt-12 text-center text-xs text-gray-400 px-3 leading-relaxed"
      >
        &copy; 2025 Vibe Stuff, prompted by Cynthia using Gemini Deep Research +
        Cursor
      </footer>
    </main>

    <script>
      function toggleSection(sectionName) {
        const content = document.getElementById(sectionName + "-content");
        const toggle = document.querySelector(
          `[onclick="toggleSection('${sectionName}')"] .section-toggle`
        );

        if (content.classList.contains("collapsed")) {
          // Expand
          content.classList.remove("collapsed");
          content.style.maxHeight = content.scrollHeight + "px";
          toggle.classList.remove("collapsed");
        } else {
          // Collapse
          content.style.maxHeight = content.scrollHeight + "px";
          // Force reflow
          content.offsetHeight;
          content.style.maxHeight = "0";
          content.classList.add("collapsed");
          toggle.classList.add("collapsed");
        }
      }

      function filterItems() {
        const searchTerm = document
          .getElementById("searchInput")
          .value.toLowerCase()
          .trim();
        const searchItems = document.querySelectorAll(".search-item");
        const sections = ["life", "travel", "learning", "miscellaneous"];
        const searchResults = document.getElementById("searchResults");
        const resultsCount = document.getElementById("resultsCount");
        const noResults = document.getElementById("noResults");

        let visibleCount = 0;
        let hasVisibleItemsInSection = {};

        // Initialize section visibility tracking
        sections.forEach((section) => {
          hasVisibleItemsInSection[section] = false;
        });

        // Get all search terms including translations
        const allSearchTerms = getSearchTerms(searchTerm);

        searchItems.forEach((item) => {
          const title = item.querySelector("h3").textContent.toLowerCase();
          const description = item.querySelector("p").textContent.toLowerCase();

          // Check if any of the search terms (including translations) match
          let isMatch = false;
          let matchedTerm = "";

          if (searchTerm !== "") {
            for (const term of allSearchTerms) {
              const termLower = term.toLowerCase();
              if (
                title.includes(termLower) ||
                description.includes(termLower)
              ) {
                isMatch = true;
                matchedTerm = term;
                break;
              }
            }
          }

          if (searchTerm === "" || isMatch) {
            item.classList.remove("hidden");
            visibleCount++;

            // Track which section this item belongs to
            const parentSection = item.closest('[id$="-content"]');
            if (parentSection) {
              const sectionName = parentSection.id.replace("-content", "");
              hasVisibleItemsInSection[sectionName] = true;
            }

            // Remove any existing highlights and add new ones
            removeHighlights(item);
            if (searchTerm !== "" && isMatch) {
              // Highlight the original search term for consistency
              highlightText(item, searchTerm);
              // Also highlight the matched translation term if different
              if (
                matchedTerm !== searchTerm &&
                matchedTerm.toLowerCase() !== searchTerm.toLowerCase()
              ) {
                highlightText(item, matchedTerm);
              }
            }
          } else {
            item.classList.add("hidden");
            removeHighlights(item);
          }
        });

        // Show/hide sections based on whether they have visible items
        sections.forEach((sectionName) => {
          const sectionContent = document.getElementById(
            sectionName + "-content"
          );
          const sectionHeader = document.querySelector(
            `[onclick="toggleSection('${sectionName}')"]`
          );
          const toggle = sectionHeader.querySelector(".section-toggle");

          if (searchTerm === "" || hasVisibleItemsInSection[sectionName]) {
            sectionHeader.style.display = "flex";
            if (searchTerm !== "") {
              // Auto-expand sections with results
              sectionContent.classList.remove("collapsed");
              sectionContent.style.maxHeight =
                sectionContent.scrollHeight + "px";
              toggle.classList.remove("collapsed");
            } else {
              // When search is cleared, recalculate height for expanded sections
              if (!sectionContent.classList.contains("collapsed")) {
                sectionContent.style.maxHeight =
                  sectionContent.scrollHeight + "px";
              }
            }
          } else {
            sectionHeader.style.display = "none";
          }
        });

        // Update search results display
        if (searchTerm === "") {
          searchResults.classList.add("hidden");
          noResults.classList.add("hidden");

          // Ensure all sections are visible and properly sized when search is cleared
          sections.forEach((sectionName) => {
            const sectionHeader = document.querySelector(
              `[onclick="toggleSection('${sectionName}')"]`
            );
            const sectionContent = document.getElementById(
              sectionName + "-content"
            );
            sectionHeader.style.display = "flex";

            // Recalculate height for expanded sections
            if (!sectionContent.classList.contains("collapsed")) {
              setTimeout(() => {
                sectionContent.style.maxHeight =
                  sectionContent.scrollHeight + "px";
              }, 10);
            }
          });
        } else {
          if (visibleCount > 0) {
            const usingTranslations = allSearchTerms.length > 1;
            resultsCount.textContent = `Found ${visibleCount} item${
              visibleCount === 1 ? "" : "s"
            }${usingTranslations ? " (bilingual search)" : ""}`;
            searchResults.classList.remove("hidden");
            noResults.classList.add("hidden");
          } else {
            searchResults.classList.add("hidden");
            noResults.classList.remove("hidden");
          }
        }
      }

      function clearSearch() {
        document.getElementById("searchInput").value = "";
        filterItems();

        // Force recalculation of section heights after clearing search
        setTimeout(() => {
          const sections = ["life", "travel", "learning", "miscellaneous"];
          sections.forEach((sectionName) => {
            const content = document.getElementById(sectionName + "-content");
            if (!content.classList.contains("collapsed")) {
              content.style.maxHeight = content.scrollHeight + "px";
            }
          });
        }, 50);
      }

      function highlightText(item, searchTerm) {
        const title = item.querySelector("h3");
        const description = item.querySelector("p");

        [title, description].forEach((element) => {
          // Store original text only once
          if (!element.getAttribute("data-original-text")) {
            element.setAttribute("data-original-text", element.textContent);
          }

          // Get current content (which might already have highlights)
          const currentContent = element.innerHTML;
          const regex = new RegExp(`(${escapeRegex(searchTerm)})`, "gi");

          // Only add highlights if this term isn't already highlighted
          if (
            !currentContent.includes(`>${searchTerm}<`) &&
            !currentContent.includes(`>${searchTerm.toLowerCase()}<`) &&
            !currentContent.includes(`>${searchTerm.toUpperCase()}<`)
          ) {
            const highlightedText = currentContent.replace(
              regex,
              '<span class="search-highlight">$1</span>'
            );
            element.innerHTML = highlightedText;
          }
        });
      }

      function removeHighlights(item) {
        const title = item.querySelector("h3");
        const description = item.querySelector("p");

        [title, description].forEach((element) => {
          const originalText = element.getAttribute("data-original-text");
          if (originalText) {
            element.textContent = originalText;
          }
        });
      }

      function escapeRegex(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      }

      // Bilingual translation dictionary for search enhancement
      const translationMap = {
        // Travel related
        travel: ["æ—…è¡Œ", "æ—…éŠ", "å‡ºéŠ"],
        trip: ["æ—…è¡Œ", "è¡Œç¨‹", "æ—…éŠ"],
        journey: ["æ—…ç¨‹", "è¡Œç¨‹"],
        planning: ["è¦åŠƒ", "è¨ˆç•«"],
        itinerary: ["è¡Œç¨‹"],

        // Learning/Research related
        research: ["ç ”ç©¶", "èª¿æŸ¥"],
        study: ["å­¸ç¿’", "ç ”ç©¶"],
        learning: ["å­¸ç¿’", "å­¸æœƒ"],
        analysis: ["åˆ†æ", "ç ”ç©¶"],
        comparison: ["æ¯”è¼ƒ", "å°æ¯”"],
        interactive: ["äº’å‹•", "äº’å‹•å¼"],
        dashboard: ["å„€è¡¨æ¿", "æ§åˆ¶å°"],

        // Health related
        health: ["å¥åº·", "å¥æª¢"],
        medical: ["é†«ç™‚", "é†«å­¸"],
        checkup: ["å¥æª¢", "æª¢æŸ¥"],

        // Technology related
        certification: ["èªè­‰", "è­‰ç…§"],
        application: ["æ‡‰ç”¨", "ç”³è«‹"],
        planner: ["è¦åŠƒå¸«", "è¦åŠƒ"],
        portal: ["å…¥å£", "é–€æˆ¶"],

        // Life related
        life: ["ç”Ÿæ´»", "äººç”Ÿ"],
        personal: ["å€‹äºº", "ç§äºº"],
        questboard: ["ä»»å‹™æ¿", "æ¸…å–®"],
        tracker: ["è¿½è¹¤", "è¨˜éŒ„"],
        calendar: ["æ—¥æ›†", "è¡Œäº‹æ›†"],

        // General terms
        cost: ["æˆæœ¬", "è²»ç”¨", "åƒ¹æ ¼"],
        price: ["åƒ¹æ ¼", "è²»ç”¨"],
        shopping: ["è³¼ç‰©", "è²·æ±è¥¿"],
        city: ["åŸå¸‚", "éƒ½å¸‚"],
        urban: ["åŸå¸‚", "éƒ½å¸‚"],
        magnetic: ["ç£æ€§", "å¸å¼•", "é»æ€§"],
        humidity: ["æ¿•åº¦", "æ½®æ¿•"],
        global: ["å…¨çƒ", "ä¸–ç•Œ"],
        world: ["ä¸–ç•Œ", "å…¨çƒ"],
        snap: ["å¿«é€Ÿ", "é€Ÿåˆ¤"],
        judgement: ["åˆ¤æ–·", "é€Ÿåˆ¤"],
        judgment: ["åˆ¤æ–·", "é€Ÿåˆ¤"],
        secret: ["ç§˜å¯†", "ç¥ç§˜"],
        upcoming: ["å³å°‡", "æœªä¾†"],

        // Specific content terms
        mbti: ["MBTI", "äººæ ¼", "æ€§æ ¼"],
        personality: ["äººæ ¼", "æ€§æ ¼", "MBTI"],
        apple: ["è˜‹æœ", "Apple"],
        hongkong: ["é¦™æ¸¯", "HK"],
        taiwan: ["å°ç£", "TW", "è‡ºç£"],
        ipas: ["iPAS", "èªè­‰"],
        trail: ["å¤é“", "æ­¥é“"],
        hiking: ["å¥è¡Œ", "ç™»å±±", "å¾’æ­¥"],
        genetics: ["åŸºå› ", "éºå‚³", "æŸ“è‰²é«”"],
        chromosome: ["æŸ“è‰²é«”", "åŸºå› "],
        dsd: ["DSD", "æ€§ç™¼è‚²"],

        // Chinese to English
        æ—…è¡Œ: ["travel", "trip", "journey"],
        æ—…éŠ: ["travel", "tourism", "trip"],
        è¡Œç¨‹: ["itinerary", "schedule", "trip"],
        è¦åŠƒ: ["planning", "plan"],
        è¨ˆç•«: ["plan", "planning"],
        ç ”ç©¶: ["research", "study", "analysis"],
        å­¸ç¿’: ["learning", "study"],
        åˆ†æ: ["analysis", "analyze"],
        æ¯”è¼ƒ: ["comparison", "compare"],
        äº’å‹•: ["interactive"],
        å„€è¡¨æ¿: ["dashboard"],
        å¥åº·: ["health"],
        å¥æª¢: ["health checkup", "medical checkup"],
        èªè­‰: ["certification"],
        æ‡‰ç”¨: ["application"],
        è¦åŠƒå¸«: ["planner"],
        ç”Ÿæ´»: ["life"],
        å€‹äºº: ["personal"],
        æˆæœ¬: ["cost"],
        è²»ç”¨: ["cost", "price", "fee"],
        åƒ¹æ ¼: ["price", "cost"],
        è³¼ç‰©: ["shopping"],
        åŸå¸‚: ["city", "urban"],
        éƒ½å¸‚: ["city", "urban"],
        æ¿•åº¦: ["humidity"],
        å…¨çƒ: ["global", "world"],
        ä¸–ç•Œ: ["world", "global"],
        é€Ÿåˆ¤: ["snap judgment", "quick judgment"],
        åˆ¤æ–·: ["judgment", "judgement"],
        ç§˜å¯†: ["secret"],
        å³å°‡: ["upcoming"],
        æœªä¾†: ["future", "upcoming"],

        // Specific content reverse mappings
        äººæ ¼: ["personality", "mbti"],
        æ€§æ ¼: ["personality", "character", "mbti"],
        è˜‹æœ: ["apple"],
        é¦™æ¸¯: ["hongkong", "hk"],
        å°ç£: ["taiwan", "tw"],
        è‡ºç£: ["taiwan", "tw"],
        å¤é“: ["trail", "path"],
        æ­¥é“: ["trail", "hiking path"],
        å¥è¡Œ: ["hiking"],
        ç™»å±±: ["hiking", "climbing"],
        å¾’æ­¥: ["hiking", "walking"],
        åŸºå› : ["genetics", "gene"],
        éºå‚³: ["genetics", "heredity"],
        æŸ“è‰²é«”: ["chromosome"],
        æ€§ç™¼è‚²: ["dsd", "sexual development"],
      };

      function getSearchTerms(searchTerm) {
        const terms = [searchTerm];
        const lowerTerm = searchTerm.toLowerCase();

        // Add translations if they exist
        if (translationMap[lowerTerm]) {
          terms.push(...translationMap[lowerTerm]);
        }

        // Also check for partial matches in translation keys
        Object.keys(translationMap).forEach((key) => {
          if (key.includes(lowerTerm) || lowerTerm.includes(key)) {
            terms.push(key);
            terms.push(...translationMap[key]);
          }
        });

        // Remove duplicates and return
        return [...new Set(terms)];
      }

      // Initialize all sections as expanded on page load
      document.addEventListener("DOMContentLoaded", function () {
        const sections = ["life", "travel", "learning", "miscellaneous"];
        sections.forEach((sectionName) => {
          const content = document.getElementById(sectionName + "-content");
          content.style.maxHeight = content.scrollHeight + "px";
        });
      });
    </script>
  </body>
</html>
