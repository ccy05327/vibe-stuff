<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>äº’å‹•å¼å ±å‘Šï¼šè§£æ§‹å…¨çƒåŸå¸‚ã€Œé»è‘—åº¦ã€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
      src="https://cdn.plot.ly/plotly-2.32.0.min.js"
      charset="utf-8"
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Chosen Palette: Warm Neutrals with Slate Blue Accent -->
    <!-- Application Structure Plan: æœ¬æ‡‰ç”¨ç¨‹å¼æ¡ç”¨æ•˜äº‹æ€§çš„å–®é æ»¾å‹•çµæ§‹ï¼Œå¼•å°ä½¿ç”¨è€…å®Œæˆä¸€è¶Ÿæ¢ç´¢ä¹‹æ—…ã€‚1. **é–‹ç¯‡äº‹å¯¦æŸ¥æ ¸**ï¼šç«‹å³æŠ“ä½ä½¿ç”¨è€…æ³¨æ„åŠ›ï¼Œæ¾„æ¸…ç¤¾ç¾¤åª’é«”çš„éŒ¯èª¤è³‡è¨Šã€‚2. **æ ¸å¿ƒæ¦‚å¿µè§£æ**ï¼šé€éäº’å‹•å¼å°æ¯”ï¼Œè§£é‡‹ã€Œå¸å¼•åŠ›ã€èˆ‡ã€Œé»è‘—åº¦ã€çš„é—œéµå·®ç•°ã€‚3. **äº’å‹•æ•¸æ“šæ’å**ï¼šä½¿ç”¨å¯é»æ“Šçš„é•·æ¢åœ–å‘ˆç¾å‰åååŸå¸‚ï¼Œé¼“å‹µä½¿ç”¨è€…ä¸»å‹•æ¢ç´¢ã€‚4. **åŸå¸‚æ·±åº¦å‰–æèˆ‡åœ°åœ–**ï¼šå°‡åœ–è¡¨èˆ‡åœ°åœ–ã€æ–‡å­—å…§å®¹é€£å‹•ï¼Œæä¾›æ·±å…¥çš„èƒŒæ™¯è³‡è¨Šã€‚5. **å®è§€æ´è¦‹ç¸½çµ**ï¼šä»¥è³‡è¨Šå¡ç‰‡å½¢å¼æç…‰å ±å‘Šçš„é—œéµå•Ÿç¤ºã€‚é€™å€‹çµæ§‹å°‡è¤‡é›œçš„å ±å‘Šå…§å®¹åˆ†è§£ç‚ºæ˜“æ–¼æ¶ˆåŒ–ä¸”å…·äº’å‹•æ€§çš„æ¨¡çµ„ï¼Œæ¯”ç·šæ€§é–±è®€åŸå§‹å ±å‘Šæ›´èƒ½æå‡ä½¿ç”¨è€…çš„åƒèˆ‡æ„Ÿå’Œç†è§£åº¦ã€‚ -->
    <!-- Visualization & Content Choices: 1. **äº‹å¯¦æŸ¥æ ¸** (ç›®æ¨™: æ¯”è¼ƒ/å‘ŠçŸ¥) -> ä½¿ç”¨HTML/Tailwindç¶²æ ¼ä¸¦åˆ—å‘ˆç¾ï¼Œè¦–è¦ºåŒ–æ•¸æ“šå·®ç•°ã€‚2. **å¸å¼•åŠ›vs.é»è‘—åº¦** (ç›®æ¨™: æ¯”è¼ƒ/çµ„ç¹”) -> ä½¿ç”¨HTML/CSSèˆ‡JSäº’å‹•é«˜äº®æ•ˆæœï¼Œè®“ä½¿ç”¨è€…ä¸»å‹•æ¢ç´¢å…©è€…å€åˆ¥ã€‚3. **å…¨çƒæ’å** (ç›®æ¨™: æ¯”è¼ƒ/å‘ŠçŸ¥) -> ä½¿ç”¨Chart.jsæ°´å¹³é•·æ¢åœ–(Canvas)ï¼Œæ¸…æ™°å±•ç¤ºæ’åï¼Œä¸¦ä½¿å…¶å¯é»æ“Šä»¥è§¸ç™¼äº’å‹•ã€‚4. **åŸå¸‚åœ°ç†åˆ†ä½ˆèˆ‡ç´°ç¯€** (ç›®æ¨™: é—œè¯/æ¢ç´¢) -> ä½¿ç”¨Plotly.jsæ•£é»åœ°åœ–(WebGL)ï¼Œèˆ‡é•·æ¢åœ–é€£å‹•ï¼Œå‹•æ…‹æ›´æ–°æ–‡å­—èªªæ˜å€å¡Šï¼Œå»ºç«‹æ•¸æ“šã€åœ°ç†å’Œè³ªåŒ–å…§å®¹çš„é—œè¯ã€‚5. **é—œéµå•Ÿç¤º** (ç›®æ¨™: ç¸½çµ/å‘ŠçŸ¥) -> ä½¿ç”¨HTML/CSSè³‡è¨Šå¡ç‰‡ï¼Œå°‡æŠ½è±¡æ¦‚å¿µå…·è±¡åŒ–ã€‚æ‰€æœ‰é¸æ“‡å‡æ—¨åœ¨å°‡éœæ…‹å ±å‘Šè½‰åŒ–ç‚ºå‹•æ…‹çš„ã€ä»¥ä½¿ç”¨è€…ç‚ºä¸­å¿ƒçš„æ¢ç´¢é«”é©—ã€‚ -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
      body {
        font-family: "Noto Sans TC", sans-serif;
        background-color: #fdfbf8;
        color: #383838;
      }
      .text-balance {
        text-wrap: balance;
      }
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        height: 500px;
        max-height: 70vh;
      }
      .map-container {
        position: relative;
        width: 100%;
        height: 450px;
        max-height: 60vh;
      }
      .factor-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .factor-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      .nav-button {
        transition: color 0.3s ease, border-color 0.3s ease;
      }
      .nav-button.active {
        color: #4a6c8b;
        border-color: #4a6c8b;
      }
      .nav-button:not(.active):hover {
        color: #6b8baa;
      }
    </style>
  </head>
  <body class="antialiased">
    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
      <nav
        class="container mx-auto px-6 py-3 flex justify-between items-center"
      >
        <h1 class="text-xl md:text-2xl font-bold text-[#3E5C76]">
          åŸå¸‚ç£å¸åŠ›å ±å‘Š
        </h1>
        <div class="hidden md:flex space-x-6 text-gray-600">
          <a
            href="#fact-check"
            class="nav-button pb-1 border-b-2 border-transparent"
            >äº‹å¯¦æŸ¥æ ¸</a
          >
          <a
            href="#concept"
            class="nav-button pb-1 border-b-2 border-transparent"
            >æ ¸å¿ƒæ¦‚å¿µ</a
          >
          <a
            href="#ranking"
            class="nav-button pb-1 border-b-2 border-transparent"
            >æ•¸æ“šæ’å</a
          >
          <a
            href="#insights"
            class="nav-button pb-1 border-b-2 border-transparent"
            >æœªä¾†å•Ÿç¤º</a
          >
        </div>
      </nav>
    </header>

    <!-- Audio Section -->
    <section class="bg-white/60 backdrop-blur-sm border-b border-gray-100 py-6">
      <div class="container mx-auto px-6">
        <div class="flex justify-start mb-4">
          <a
            href="../../index.html"
            class="bg-[#F0F4F8]/90 text-[#3E5C76] px-4 py-2 rounded-full shadow-lg border border-[#C5D4E2] backdrop-blur-sm flex items-center hover:bg-[#E5EDF5] hover:text-[#2D4A63] transition-all duration-200"
            style="font-size: 0.95rem; font-weight: 500"
          >
            <span class="mr-2">â†</span> è¿”å›é¦–é 
          </a>
        </div>
        <div class="max-w-2xl mx-auto">
          <div
            class="bg-white p-6 rounded-xl shadow-md border border-[#C5D4E2]"
          >
            <label
              class="block text-[#3E5C76] font-semibold mb-3 text-center text-lg flex items-center justify-center"
            >
              <span class="text-2xl mr-2">ğŸ§</span>
              ä¸­æ–‡å°è¦½
            </label>
            <audio
              id="audioPlayerStickiness"
              controls
              class="w-full rounded shadow border border-[#C5D4E2] bg-white mb-3"
            >
              <source src="(CH) urban_stickiness.wav" type="audio/mpeg" />
              Your browser does not support the audio element.
            </audio>
            <div class="flex justify-center">
              <label for="speedStickiness" class="mr-2 text-sm text-gray-600"
                >æ’­æ”¾é€Ÿåº¦ï¼š</label
              >
              <select
                id="speedStickiness"
                class="border border-[#C5D4E2] rounded px-2 py-1 text-sm"
              >
                <option value="0.75">0.75x</option>
                <option value="1" selected>1x</option>
                <option value="1.25">1.25x</option>
                <option value="1.5">1.5x</option>
                <option value="2">2x</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </section>

    <main class="container mx-auto px-6 py-12">
      <section id="fact-check" class="text-center mb-20 md:mb-24 scroll-mt-24">
        <h2
          class="text-3xl md:text-4xl font-bold text-[#3E5C76] mb-4 text-balance"
        >
          ç¤¾ç¾¤ç˜‹å‚³çš„åŸå¸‚æ’åï¼Œæ˜¯çœŸçš„å—ï¼Ÿ
        </h2>
        <p class="max-w-3xl mx-auto text-gray-600 mb-12 text-balance">
          è¿‘æœŸä¸€å‰‡é—œæ–¼ã€ŒåŸå¸‚é»è‘—åº¦ã€çš„è²¼æ–‡åœ¨ç¤¾ç¾¤åª’é«”ä¸Šå»£æ³›æµå‚³ï¼Œä½†å…¶æ•¸æ“šèˆ‡
          Gensler ç ”ç©¶é™¢çš„å®˜æ–¹å ±å‘Šå­˜åœ¨é¡¯è‘—å·®ç•°ã€‚æœ¬éƒ¨åˆ†å°‡ç›´æ¥æ¯”å°ï¼Œé‡æ¸…äº‹å¯¦ã€‚
        </p>
        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
            <h3 class="text-xl font-bold text-red-600 mb-4">âŒ ç¶²è·¯æµå‚³ç‰ˆæœ¬</h3>
            <div class="space-y-3 text-left">
              <p class="text-lg"><strong>1. å°åŒ—:</strong> 64%</p>
              <p class="text-lg"><strong>2. èƒ¡å¿—æ˜å¸‚:</strong> 61%</p>
              <p class="text-lg"><strong>3. æ–°åŠ å¡:</strong> 59%</p>
            </div>
            <p class="mt-4 text-sm text-gray-500">
              çµè«–ï¼šæ•¸æ“šèˆ‡æ’åå‡æœ‰èª¤ï¼Œä¸”èƒ¡å¿—æ˜å¸‚æœªé€²å…¥å…¨çƒå‰åã€‚
            </p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-lg border-2 border-[#4A6C8B]"
          >
            <h3 class="text-xl font-bold text-green-700 mb-4">
              âœ… Gensler å®˜æ–¹å ±å‘Š
            </h3>
            <div class="space-y-3 text-left">
              <p class="text-lg"><strong>1. å°åŒ—:</strong> 85%</p>
              <p class="text-lg"><strong>2. é¦–çˆ¾:</strong> 82%</p>
              <p class="text-lg"><strong>3. æ–°åŠ å¡:</strong> 80%</p>
            </div>
            <p class="mt-4 text-sm text-gray-500">
              çµè«–ï¼šçœŸå¯¦æ•¸æ“šé é«˜æ–¼å‚³èï¼Œæ’åçµ„åˆä¹Ÿä¸åŒã€‚
            </p>
          </div>
        </div>
      </section>

      <hr class="my-20 md:my-24 border-gray-200" />

      <section id="concept" class="mb-20 md:mb-24 scroll-mt-24">
        <div class="text-center mb-12">
          <h2
            class="text-3xl md:text-4xl font-bold text-[#3E5C76] mb-4 text-balance"
          >
            å¸å¼•åŠ› vs. é»è‘—åº¦ï¼šåŸå¸‚ç•™æ‰çš„é—œéµ
          </h2>
          <p class="max-w-3xl mx-auto text-gray-600 text-balance">
            Gensler
            å ±å‘Šçš„æ ¸å¿ƒæ´è¦‹åœ¨æ–¼ï¼šå¸å¼•äººå€‘ã€Œé·å…¥ã€çš„å‹™å¯¦å› ç´ ï¼Œèˆ‡è®“ä»–å€‘ã€Œç•™ä¸‹ã€çš„æƒ…æ„Ÿå› ç´ æˆªç„¶ä¸åŒã€‚æˆåŠŸçš„åŸå¸‚å¿…é ˆåŒæ™‚å…¼é¡§å…©è€…ã€‚
          </p>
        </div>
        <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
          <div class="bg-white p-8 rounded-xl shadow-md border border-gray-200">
            <h3 class="text-2xl font-bold mb-6 text-center text-gray-700">
              å¸å¼•åŠ›å› ç´ <span class="text-base font-normal block"
                >ï¼ˆè®“äººå€‘é·å…¥çš„å‹™å¯¦è€ƒé‡ï¼‰</span
              >
            </h3>
            <ul class="space-y-4">
              <li class="factor-card p-4 rounded-lg bg-gray-50 border">
                <h4 class="font-bold text-lg">ğŸ’° ç”Ÿæ´»æˆæœ¬</h4>
                <p class="text-gray-600 text-sm">
                  åŸå¸‚çš„ç”Ÿæ´»é–‹éŠ·æ˜¯å¦åœ¨å¯è² æ“”ç¯„åœå…§ã€‚
                </p>
              </li>
              <li class="factor-card p-4 rounded-lg bg-gray-50 border">
                <h4 class="font-bold text-lg">ğŸ›¡ï¸ çŠ¯ç½ªç‡æ°´å¹³</h4>
                <p class="text-gray-600 text-sm">
                  åŸå¸‚æ˜¯å¦æä¾›å®‰å…¨çš„å±…ä½ç’°å¢ƒã€‚
                </p>
              </li>
              <li class="factor-card p-4 rounded-lg bg-gray-50 border">
                <h4 class="font-bold text-lg">ğŸ¥ é«˜å“è³ªé†«ç™‚</h4>
                <p class="text-gray-600 text-sm">
                  èƒ½å¦æ–¹ä¾¿åœ°ç²å¾—å„ªè³ªçš„é†«ç™‚æœå‹™ã€‚
                </p>
              </li>
              <li class="factor-card p-4 rounded-lg bg-gray-50 border">
                <h4 class="font-bold text-lg">ğŸ’¼ å°±æ¥­æ©Ÿæœƒ</h4>
                <p class="text-gray-600 text-sm">
                  åŸå¸‚æ˜¯å¦æä¾›å……è¶³ä¸”å„ªè³ªçš„å·¥ä½œæ©Ÿæœƒã€‚
                </p>
              </li>
            </ul>
          </div>
          <div
            class="bg-[#F0F4F8] p-8 rounded-xl shadow-lg border-2 border-[#4A6C8B]"
          >
            <h3 class="text-2xl font-bold mb-6 text-center text-[#3E5C76]">
              é»è‘—åº¦å› ç´ <span class="text-base font-normal block"
                >ï¼ˆè®“äººå€‘ç•™ä¸‹çš„æƒ…æ„Ÿé€£çµï¼‰</span
              >
            </h3>
            <ul class="space-y-4">
              <li
                class="factor-card p-4 rounded-lg bg-white border border-blue-100"
              >
                <h4 class="font-bold text-lg text-[#4A6C8B]">
                  ğŸ‰ ã€Œæˆ‘åœ¨æˆ‘çš„åŸå¸‚ä¸æ„Ÿåˆ°ç„¡èŠã€‚ã€
                </h4>
                <p class="text-gray-600 text-sm">
                  åŸå¸‚æä¾›è±å¯Œå¤šå…ƒçš„æ–‡åŒ–ã€å¨›æ¨‚èˆ‡ç”Ÿæ´»é«”é©—ã€‚
                </p>
              </li>
              <li
                class="factor-card p-4 rounded-lg bg-white border border-blue-100"
              >
                <h4 class="font-bold text-lg text-[#4A6C8B]">
                  ğŸ¡ ã€Œæˆ‘åœ¨æˆ‘çš„åŸå¸‚æœ‰å®¶çš„æ„Ÿè¦ºã€‚ã€
                </h4>
                <p class="text-gray-600 text-sm">
                  åŸå¸‚ç‡Ÿé€ å‡ºå®‰å…¨ã€èˆ’é©ä¸”å…·æ­¸å±¬æ„Ÿçš„æ°›åœã€‚
                </p>
              </li>
              <li
                class="factor-card p-4 rounded-lg bg-white border border-blue-100"
              >
                <h4 class="font-bold text-lg text-[#4A6C8B]">
                  orgullo ã€Œæˆ‘ç‚ºæˆ‘çš„åŸå¸‚æ„Ÿåˆ°é©•å‚²ã€‚ã€
                </h4>
                <p class="text-gray-600 text-sm">
                  å±…æ°‘å°åŸå¸‚çš„ç¨ç‰¹æ–‡åŒ–ã€æ­·å²èˆ‡æˆå°±æ„Ÿåˆ°èªåŒã€‚
                </p>
              </li>
              <li
                class="factor-card p-4 rounded-lg bg-white border border-blue-100"
              >
                <h4 class="font-bold text-lg text-[#4A6C8B]">
                  ğŸŒ± ã€Œæˆ‘çš„åŸå¸‚é©åˆè®Šè€ã€‚ã€
                </h4>
                <p class="text-gray-600 text-sm">
                  åŸå¸‚å±•ç¾å‡ºå°å±…æ°‘å…¨ç”Ÿå‘½é€±æœŸçš„é—œæ‡·èˆ‡è¦åŠƒã€‚
                </p>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <hr class="my-20 md:my-24 border-gray-200" />

      <section id="ranking" class="mb-20 md:mb-24 scroll-mt-24">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-[#3E5C76] mb-4">
            å…¨çƒåå¤§ã€Œæœ€é»ã€åŸå¸‚äº’å‹•æ’å
          </h2>
          <p class="max-w-3xl mx-auto text-gray-600 text-balance">
            ä»¥ä¸‹æ˜¯å®˜æ–¹å ±å‘Šä¸­ï¼Œå±…æ°‘ç•™å­˜æ„é¡˜æœ€é«˜çš„åå¤§åŸå¸‚ã€‚é»æ“Šåœ–è¡¨ä¸­çš„åŸå¸‚ï¼Œå³å¯åœ¨åœ°åœ–å’Œä¸‹æ–¹çš„åˆ†æå€å¡ŠæŸ¥çœ‹æ›´å¤šè©³ç´°è³‡è¨Šã€‚
          </p>
        </div>
        <div
          class="bg-white p-4 sm:p-6 md:p-8 rounded-xl shadow-lg border border-gray-200"
        >
          <div class="chart-container">
            <canvas id="stickyCitiesChart"></canvas>
          </div>
        </div>
      </section>

      <section id="deep-dive" class="scroll-mt-24">
        <div class="grid lg:grid-cols-5 gap-8">
          <div
            class="lg:col-span-2 bg-white p-8 rounded-xl shadow-lg border border-gray-200 h-full"
          >
            <h3 class="text-2xl font-bold text-[#3E5C76] mb-1">
              æ·±åº¦å‰–æï¼š<span id="cityName"></span>
            </h3>
            <p class="text-gray-500 mb-4">
              æ’å <span id="cityRank"></span> |
              <span id="cityPercentage"></span> çš„å±…æ°‘è¡¨ç¤ºä¸å¤ªå¯èƒ½æ¬é›¢
            </p>
            <div
              id="cityDescription"
              class="text-gray-700 space-y-4 text-balance"
            ></div>
          </div>
          <div
            class="lg:col-span-3 bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-gray-200"
          >
            <div class="map-container">
              <div id="map"></div>
            </div>
          </div>
        </div>
      </section>

      <hr class="my-20 md:my-24 border-gray-200" />

      <section id="insights" class="scroll-mt-24">
        <div class="text-center mb-12">
          <h2
            class="text-3xl md:text-4xl font-bold text-[#3E5C76] mb-4 text-balance"
          >
            çµ¦æœªä¾†åŸå¸‚çš„å•Ÿç¤º
          </h2>
          <p class="max-w-3xl mx-auto text-gray-600 text-balance">
            Gensler
            çš„å ±å‘Šç‚ºåŸå¸‚æ²»ç†è€…æä¾›äº†ä¸‰å¤§æˆ°ç•¥æ–¹å‘ï¼Œå¼·èª¿å¾ç¡¬é«”å»ºè¨­è½‰å‘ã€Œæƒ…æ„ŸåŸºç¤è¨­æ–½ã€çš„åŸ¹é¤Šã€‚
          </p>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
          <div
            class="bg-white p-8 rounded-xl shadow-md border border-gray-200 text-center"
          >
            <div class="text-5xl mb-4">ğŸ›ï¸</div>
            <h3 class="text-xl font-bold mb-2 text-[#3E5C76]">æƒ…æ„ŸåŸºç¤è¨­æ–½</h3>
            <p class="text-gray-600">
              æŠ•è³‡æ–¼èƒ½åŸ¹é¤Šç¤¾ç¾¤æ„Ÿã€æ¿€ç™¼è‡ªè±ªæ„Ÿçš„å…¬å…±ç©ºé–“èˆ‡æ–‡åŒ–é«”é©—ï¼Œå…¶é‡è¦æ€§ä¸äºæ–¼é“è·¯å’Œæ©‹æ¨‘ã€‚
            </p>
          </div>
          <div
            class="bg-white p-8 rounded-xl shadow-md border border-gray-200 text-center"
          >
            <div class="text-5xl mb-4">ğŸ§©</div>
            <h3 class="text-xl font-bold mb-2 text-[#3E5C76]">æ–°ç§»æ°‘çš„æŒ‘æˆ°</h3>
            <p class="text-gray-600">
              åŸå¸‚éœ€åˆ¶å®šç­–ç•¥å¹«åŠ©æ–°å±…æ°‘èå…¥ç¤¾ç¾¤ï¼Œå°‡ä»–å€‘å¾éå®¢è½‰è®Šç‚ºå…¬æ°‘ï¼Œä»¥é™ä½äººæ‰æµå¤±ã€‚
            </p>
          </div>
          <div
            class="bg-white p-8 rounded-xl shadow-md border border-gray-200 text-center"
          >
            <div class="text-5xl mb-4">âš–ï¸</div>
            <h3 class="text-xl font-bold mb-2 text-[#3E5C76]">
              å¯è² æ“”æ€§çš„æ‚–è«–
            </h3>
            <p class="text-gray-600">
              ä½ç”Ÿæ´»æˆæœ¬èƒ½å¸å¼•äººï¼Œä½†ç„¡æ³•ç•™ä½äººã€‚åŸå¸‚ä¸èƒ½å–®é ã€Œä¾¿å®œã€ä¾†è³¼è²·å¿ èª åº¦ï¼Œæƒ…æ„Ÿé€£çµæ‰æ˜¯é—œéµã€‚
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="bg-gray-800 text-white mt-24">
      <div class="container mx-auto px-6 py-8 text-center">
        <p>
          æœ¬é é¢å…§å®¹æ ¹æ“š
          <a
            href="https://www.gensler.com/gri/city-pulse-2025"
            target="_blank"
            rel="noopener noreferrer"
            class="underline hover:text-gray-300"
            >Gensler Research Instituteã€ŠCity Pulse 2025: The Magnetic Cityã€‹</a
          >å ±å‘Šè£½ä½œã€‚
        </p>
        <p class="text-sm text-gray-400 mt-2">
          è©²ç ”ç©¶èª¿æŸ¥äº†å…¨çƒ65å€‹ä¸»è¦åŸå¸‚çš„è¶…é33,000åå±…æ°‘ã€‚
        </p>
      </div>
    </footer>

    <script>
      // Audio speed control
      document.addEventListener("DOMContentLoaded", function () {
        const audioStickiness = document.getElementById(
          "audioPlayerStickiness"
        );
        const speedStickiness = document.getElementById("speedStickiness");
        speedStickiness.addEventListener("change", function () {
          audioStickiness.playbackRate = parseFloat(this.value);
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        const citiesData = [
          {
            rank: 1,
            name: "å°åŒ—",
            country: "å°ç£",
            percentage: 85,
            coords: [25.033, 121.5654],
            description:
              "å°åŒ—ä»¥é©šäººçš„85%æ¯”ä¾‹é«˜å±…æ¦œé¦–ã€‚å…¶å“è¶Šè¡¨ç¾æ­¸åŠŸæ–¼ä¸–ç•Œç´šçš„ä¾¿åˆ©å…¬å…±äº¤é€šã€æ¥µé«˜çš„æ²»å®‰æ°´å¹³å’Œå……æ»¿æ´»åŠ›çš„è¡—é ­å··å°¾ï¼Œå®Œç¾è©®é‡‹äº†ã€Œä¸æ„Ÿåˆ°ç„¡èŠã€å’Œã€Œæœ‰å®¶çš„æ„Ÿè¦ºã€ã€‚è±å¯Œçš„é£²é£Ÿæ–‡åŒ–ã€å¤šå…ƒçš„æ–‡å‰µæ´»å‹•å’Œå¼·çƒˆçš„åœ¨åœ°èªåŒæ„Ÿï¼Œæ¥µå¤§åœ°å¢å¼·äº†å±…æ°‘çš„åŸå¸‚è‡ªè±ªæ„Ÿã€‚",
          },
          {
            rank: 2,
            name: "é¦–çˆ¾",
            country: "éŸ“åœ‹",
            percentage: 82,
            coords: [37.5665, 126.978],
            description:
              "ä½œç‚ºéŸ“åœ‹çš„ç¶“æ¿Ÿèˆ‡æ–‡åŒ–å¿ƒè‡Ÿï¼Œé¦–çˆ¾å°‡è¶…ç¾ä»£ç§‘æŠ€èˆ‡æ·±åšæ­·å²åº•è˜Šç„¡ç¸«èåˆã€‚å¾ç¹è¯çš„è³¼ç‰©å€åˆ°éœè¬çš„å¤å®®ï¼Œå¾ä¸–ç•Œé ‚å°–çš„æµè¡Œæ–‡åŒ–åˆ°ç²¾ç·»çš„å‚³çµ±è—è¡“ï¼Œé¦–çˆ¾çš„å¤šå…ƒé«”é©—ä½¿å…¶å±…æ°‘ã€Œä¸æ„Ÿåˆ°ç„¡èŠã€ï¼Œå¼·çƒˆçš„åœ‹å®¶èªåŒæ„Ÿèˆ‡åŸå¸‚è‡ªè±ªæ„Ÿä¹Ÿæ˜¯å‡èšäººå¿ƒçš„é‡è¦åŠ›é‡ã€‚",
          },
          {
            rank: 3,
            name: "æ–°åŠ å¡",
            country: "æ–°åŠ å¡",
            percentage: 80,
            coords: [1.3521, 103.8198],
            description:
              "ä½œç‚ºä¸€å€‹é«˜åº¦çµ„ç¹”åŒ–ã€ä»¥å®‰å…¨å’Œç¶ åŒ–èåçš„èŠ±åœ’åŸå¸‚åœ‹å®¶ï¼Œæ–°åŠ å¡ç‚ºå±…æ°‘æä¾›äº†æ¥µé«˜çš„ç”Ÿæ´»å“è³ªå’Œã€Œå®¶çš„æ„Ÿè¦ºã€ã€‚å ±å‘Šç‰¹åˆ¥æŒ‡å‡ºï¼Œä½œç‚ºä¸€å€‹åŸé‚¦åœ‹å®¶ï¼Œæ–°åŠ å¡æ˜¯å…¶åœ‹æ°‘åœ¨åœ‹å…§çš„ã€Œå”¯ä¸€åŸå¸‚é¸æ“‡ã€ï¼Œé€™æœ¬èº«å°±æ˜¯ä¸€å€‹å¼·å¤§çš„ç•™å­˜å› ç´ ã€‚",
          },
          {
            rank: 4,
            name: "æ…•å°¼é»‘",
            country: "å¾·åœ‹",
            percentage: 79,
            coords: [48.1351, 11.582],
            description:
              "æ…•å°¼é»‘æ˜¯æ¦œå–®ä¸Šæ’åæœ€é«˜çš„æ­æ´²åŸå¸‚ã€‚å®ƒä¸åƒ…æ˜¯å¾·åœ‹çš„ç¶“æ¿Ÿé‡é®ï¼Œæ›´ä»¥é«˜å“è³ªçš„ç”Ÿæ´»ç’°å¢ƒã€è±å¯Œçš„æ–‡åŒ–æ´»å‹•å’Œè¦ªè¿‘è‡ªç„¶çš„åœ°ç†ä½ç½®è‘—ç¨±ã€‚ç¶“æ¿Ÿæ´»åŠ›èˆ‡ä¼‘é–’ç”Ÿæ´»çš„å®Œç¾å¹³è¡¡ï¼Œè®“å±…æ°‘ç”¢ç”Ÿå¼·çƒˆçš„æ­¸å±¬æ„Ÿå’Œè‡ªè±ªæ„Ÿã€‚",
          },
          {
            rank: 5,
            name: "è’™ç‰¹é›·",
            country: "å¢¨è¥¿å“¥",
            percentage: 78,
            coords: [25.6866, -100.3161],
            description:
              "è’™ç‰¹é›·çš„å…¥é¸æ˜¯ã€Œå…¨çƒå—æ–¹å´›èµ·ã€çš„æœ‰åŠ›è­‰æ˜ã€‚ä½œç‚ºå¢¨è¥¿å“¥çš„å·¥æ¥­ä¸­å¿ƒï¼Œå®ƒè¢«å½¢å®¹ç‚ºä¸€å€‹æ—¢èƒ½æä¾›è±å¯Œæ©Ÿæœƒï¼Œåˆã€Œé«˜åº¦å®œå±…ã€çš„åŸå¸‚ã€‚å¼·çƒˆçš„åœ°åŸŸæ–‡åŒ–ã€ç·Šå¯†çš„ç¤¾ç¾¤è¯ç¹«å’Œå……æ»¿æ´»åŠ›çš„å…¬å…±ç”Ÿæ´»ï¼Œåœ¨å»ºç«‹å±…æ°‘æ­¸å±¬æ„Ÿæ–¹é¢ç™¼æ®äº†é—œéµä½œç”¨ã€‚",
          },
          {
            rank: 6,
            name: "å¢¨è¥¿å“¥åŸ",
            country: "å¢¨è¥¿å“¥",
            percentage: 77,
            coords: [19.4326, -99.1332],
            description:
              "é€™åº§æ‹‰ä¸ç¾æ´²å¤§éƒ½æœƒæ“æœ‰ä¸–ç•Œç´šçš„åšç‰©é¤¨ã€è±å¯Œçš„æ­·å²éºç”¢å’Œç„¡èˆ‡å€«æ¯”çš„ç¾é£Ÿæ™¯è§€ï¼Œç‚ºå±…æ°‘æä¾›äº†æºæºä¸æ–·çš„æ–‡åŒ–æ»‹é¤Šï¼Œè®“ä»–å€‘ã€Œä¸æ„Ÿåˆ°ç„¡èŠã€ã€‚æ·±åšçš„æ–‡åŒ–åº•è˜Šå’Œå¼·çƒˆçš„æ°‘æ—è‡ªè±ªæ„Ÿï¼Œæ˜¯å…¶å±…æ°‘é¸æ“‡é•·ä¹…ç•™ä¸‹çš„é‡è¦æƒ…æ„ŸåŸºçŸ³ã€‚",
          },
          {
            rank: 7,
            name: "å€«æ•¦",
            country: "è‹±åœ‹",
            percentage: 75,
            coords: [51.5072, -0.1276],
            description:
              "ä½œç‚ºå…¨çƒé‡‘èèˆ‡æ–‡åŒ–ä¸­å¿ƒï¼Œå€«æ•¦çš„é»è‘—åº¦æºæ–¼ç„¡å¯æ¯”æ“¬çš„å¤šå…ƒæ€§èˆ‡æ´»åŠ›ã€‚ä¸–ç•Œé ‚ç´šçš„åŠ‡é™¢ã€åšç‰©é¤¨å’Œå¤šå…ƒåŒ–çš„ç¤¾å€ï¼Œä½¿å…¶æˆç‚ºä¸€å€‹æ°¸é å……æ»¿æ–°é®®æ„Ÿçš„åŸå¸‚ã€‚å…¶æä¾›çš„ç¨ç‰¹é«”é©—ï¼Œè®“å±…æ°‘ç”¢ç”Ÿäº†å¼·çƒˆçš„æ­¸å±¬æ„Ÿå’Œèº«ç‚ºã€Œå€«æ•¦äººã€çš„è‡ªè±ªæ„Ÿã€‚",
          },
          {
            rank: 8,
            name: "æ³¢å“¥å¤§",
            country: "å“¥å€«æ¯”äº",
            percentage: 74,
            coords: [4.711, -74.0721],
            description:
              "æ³¢å“¥å¤§è¿‘å¹´ä¾†åœ¨åŸå¸‚æ›´æ–°ã€å…¬å…±ç©ºé–“ç‡Ÿé€ å’Œæ–‡åŒ–ç™¼å±•æ–¹é¢å–å¾—äº†é¡¯è‘—é€²æ­¥ã€‚å…¶å‰µæ–°çš„å…¬å…±äº¤é€šç³»çµ±ã€éå¸ƒåŸå¸‚çš„è‡ªè¡Œè»Šé“ç¶²çµ¡å’Œè“¬å‹ƒç™¼å±•çš„è—è¡“å ´æ™¯ï¼Œæå‡äº†å±…æ°‘çš„ç”Ÿæ´»å“è³ªå’ŒåŸå¸‚è‡ªè±ªæ„Ÿã€‚",
          },
          {
            rank: 9,
            name: "é›ªæ¢¨",
            country: "æ¾³æ´²",
            percentage: 73,
            coords: [-33.8688, 151.2093],
            description:
              "é›ªæ¢¨ä»¥å…¶æ¨™èªŒæ€§çš„æµ·æ¸¯æ™¯è§€ã€å®œäººçš„æ°£å€™å’Œè¼•é¬†æˆ¶å¤–çš„ç”Ÿæ´»æ–¹å¼è€Œèåã€‚å±…æ°‘èƒ½å¤ åœ¨ç¹è¯çš„éƒ½å¸‚ç”Ÿæ´»èˆ‡ç¾éº—çš„è‡ªç„¶é¢¨å…‰ä¹‹é–“è¼•é¬†åˆ‡æ›ï¼Œé€™ç¨®å¹³è¡¡æ¥µå¤§åœ°æå‡äº†å¹¸ç¦æ„Ÿå’Œã€Œå®¶çš„æ„Ÿè¦ºã€ã€‚",
          },
          {
            rank: 10,
            name: "ä¸Šæµ·",
            country: "ä¸­åœ‹",
            percentage: 72,
            coords: [31.2304, 121.4737],
            description:
              "ä½œç‚ºä¸­åœ‹çš„ç¶“æ¿Ÿä¸­å¿ƒï¼Œä¸Šæµ·ä»¥å…¶å¿«é€Ÿçš„ç™¼å±•ã€é«˜æ•ˆçš„ç®¡ç†å’Œä¸æ–·è®ŠåŒ–çš„å¤©éš›ç·šè€Œä»¤å±…æ°‘è‡ªè±ªã€‚é€™åº§åŸå¸‚èåˆäº†å‚³çµ±èˆ‡ç¾ä»£é­…åŠ›ï¼Œæä¾›äº†è±å¯Œå¤šå…ƒçš„ç”Ÿæ´»é«”é©—ï¼Œå…¶æ´»åŠ›èˆ‡æ©Ÿé‡ä½¿å…¶å±…æ°‘ã€Œä¸æ„Ÿåˆ°ç„¡èŠã€ï¼Œä¸¦å°æœªä¾†å……æ»¿ä¿¡å¿ƒã€‚",
          },
        ];

        let chart;
        let currentCityIndex = 0;

        const chartCanvas = document.getElementById("stickyCitiesChart");
        const cityNameEl = document.getElementById("cityName");
        const cityRankEl = document.getElementById("cityRank");
        const cityPercentageEl = document.getElementById("cityPercentage");
        const cityDescriptionEl = document.getElementById("cityDescription");
        const mapDiv = document.getElementById("map");

        function createChart() {
          const ctx = chartCanvas.getContext("2d");
          chart = new Chart(ctx, {
            type: "bar",
            data: {
              labels: citiesData.map((c) => `${c.rank}. ${c.name}`),
              datasets: [
                {
                  label: "ã€Œä¸å¤ªå¯èƒ½æ¬é›¢ã€å±…æ°‘æ¯”ä¾‹ (%)",
                  data: citiesData.map((c) => c.percentage),
                  backgroundColor: citiesData.map((_, i) =>
                    i === currentCityIndex ? "#4A6C8B" : "#C5D4E2"
                  ),
                  borderColor: citiesData.map((_, i) =>
                    i === currentCityIndex ? "#3E5C76" : "#A9B9C9"
                  ),
                  borderWidth: 2,
                  borderRadius: 4,
                },
              ],
            },
            options: {
              indexAxis: "y",
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  display: false,
                },
                tooltip: {
                  callbacks: {
                    label: function (context) {
                      return ` ${context.raw}% çš„å±…æ°‘ä¸å¤ªå¯èƒ½æ¬é›¢`;
                    },
                  },
                },
              },
              scales: {
                x: {
                  beginAtZero: true,
                  max: 100,
                  grid: {
                    color: "#E5E7EB",
                  },
                },
                y: {
                  grid: {
                    display: false,
                  },
                },
              },
              onClick: (event, elements) => {
                if (elements.length > 0) {
                  const index = elements[0].index;
                  updateContent(index);
                }
              },
            },
          });
        }

        function createMap() {
          const mapData = [
            {
              type: "scattergeo",
              lon: citiesData.map((c) => c.coords[1]),
              lat: citiesData.map((c) => c.coords[0]),
              text: citiesData.map(
                (c) => `${c.rank}. ${c.name}: ${c.percentage}%`
              ),
              mode: "markers",
              marker: {
                size: citiesData.map((_, i) =>
                  i === currentCityIndex ? 20 : 10
                ),
                color: citiesData.map((_, i) =>
                  i === currentCityIndex ? "#D64933" : "#4A6C8B"
                ),
                opacity: 0.8,
                line: {
                  color: "white",
                  width: 1,
                },
              },
            },
          ];

          const layout = {
            geo: {
              projection: {
                type: "natural earth",
              },
              showland: true,
              landcolor: "#F0F4F8",
              showocean: true,
              oceancolor: "#FFFFFF",
              bgcolor: "#FDFBF8",
              countrycolor: "#BCCCDC",
              showcountries: true,
              showsubunits: true,
              subunitcolor: "#BCCCDC",
            },
            margin: { l: 0, r: 0, t: 0, b: 0 },
            paper_bgcolor: "#FDFBF8",
          };

          Plotly.newPlot(mapDiv, mapData, layout, {
            responsive: true,
            displayModeBar: false,
          });
        }

        function updateContent(index) {
          currentCityIndex = index;
          const city = citiesData[index];

          cityNameEl.textContent = city.name;
          cityRankEl.textContent = city.rank;
          cityPercentageEl.textContent = `${city.percentage}%`;
          cityDescriptionEl.innerHTML = `<p>${city.description}</p>`;

          chart.data.datasets[0].backgroundColor = citiesData.map((_, i) =>
            i === index ? "#4A6C8B" : "#C5D4E2"
          );
          chart.data.datasets[0].borderColor = citiesData.map((_, i) =>
            i === index ? "#3E5C76" : "#A9B9C9"
          );
          chart.update();

          Plotly.update(
            mapDiv,
            {
              "marker.size": [
                citiesData.map((_, i) => (i === index ? 20 : 10)),
              ],
              "marker.color": [
                citiesData.map((_, i) => (i === index ? "#D64933" : "#4A6C8B")),
              ],
            },
            {},
            [0]
          );
        }

        function setupNavObserver() {
          const sections = document.querySelectorAll("section[id]");
          const navLinks = document.querySelectorAll(".nav-button");

          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  navLinks.forEach((link) => {
                    link.classList.remove("active");
                    if (
                      link.getAttribute("href").substring(1) === entry.target.id
                    ) {
                      link.classList.add("active");
                    }
                  });
                }
              });
            },
            { rootMargin: "-50% 0px -50% 0px" }
          );

          sections.forEach((section) => observer.observe(section));

          navLinks.forEach((link) => {
            link.addEventListener("click", (e) => {
              e.preventDefault();
              document.querySelector(link.getAttribute("href")).scrollIntoView({
                behavior: "smooth",
              });
            });
          });
        }

        createChart();
        createMap();
        updateContent(0);
        setupNavObserver();
      });
    </script>
  </body>
</html>
